@model PDFTOXLS.Models.RoleMaster

<div class="row">
    <div class="col-sm-10 col-sm-offset-1 col-md-10 col-md-offset-1 col-xs-12">

        <div class="col-xs-12 clearfix">
            <div class="topbtmpadding clearfix">
                <h2 class="font-md">User Access</h2>
                @using (Ajax.BeginForm("SaveRole", "Setup", new AjaxOptions { HttpMethod = "POST", OnBegin = "", OnSuccess = "javascript:OnlyLoadPage('/Setup/RoleList')" }, new { enctype = "multipart/form-data" }))
                {
                    @Html.ValidationSummary(true)
                    @Html.HiddenFor(m => m.Id, new { @Value = @ViewBag.Id })
                    @Html.ValidationMessageFor(m => m.Id)

                       @Html.HiddenFor(m => m.reportlist, new { @class = "" })
                    @Html.ValidationMessageFor(m => m.reportlist)
                    
                    <div class="row">
                        <div class="col-xs-12 col-sm-4 col-md-4">
                            <div class="form-group">
                                <label>Name<span class="required">*</span>:</label>
                                @Html.TextBoxFor(m => m.RoleName, new { @class = "form-control input-sm", @maxlength = "150" })
                                @Html.ValidationMessageFor(h => h.RoleName)
                            </div>
                        </div>
                        <div class="col-xs-12 col-sm-12 col-md-12">
                            <div class="form-group">
                                <label>Permission:</label>

                                <div class="row">
                                    
                                    <div class="col-xs-12 col-sm-3 col-md-3">
                                        <div class="checkbox">
                                            <label>
                                                @Html.CheckBoxFor(m => m.IsNewTicket, new { @class = "" }) Ticket
                                        @Html.ValidationMessageFor(h => h.IsNewTicket)
                                            </label>
                                        </div>
                                        <div class="checkbox">
                                            <label>
                                                @Html.CheckBoxFor(m => m.IsUserClientMapping, new { @class = "" }) User Wise Client Mapping
                                         @Html.ValidationMessageFor(h => h.IsUserClientMapping)
                                            </label>
                                        </div>
                                        <div class="checkbox">
                                            <label>
                                                @Html.CheckBoxFor(m => m.IsClientUserMapping, new { @class = "" }) Client Wise User Mapping
                                         @Html.ValidationMessageFor(h => h.IsClientUserMapping)
                                            </label>
                                        </div>
                                        <div class="checkbox">
                                            <label>
                                                @Html.CheckBoxFor(m => m.IsTeamUserModule, new { @class = "" }) Team User Module
                                         @Html.ValidationMessageFor(h => h.IsTeamUserModule)
                                            </label>
                                        </div>
                                        <div class="checkbox">
                                            <label>
                                                @Html.CheckBoxFor(m => m.IsUserAccess, new { @class = "" }) User Access
                                         @Html.ValidationMessageFor(h => h.IsUserAccess)
                                            </label>
                                        </div>
                                    </div>

                                    <div class="col-xs-12 col-sm-3 col-md-3">
                                        <div class="checkbox">
                                            <label>
                                                @Html.CheckBoxFor(m => m.IsChangeStatus, new { @class = "" }) Change Status
                                          @Html.ValidationMessageFor(h => h.IsChangeStatus)
                                            </label>
                                        </div>
                                        <div class="checkbox">
                                            <label>
                                                @Html.CheckBoxFor(m => m.IsViewInternalDiscussion, new { @class = "" }) View Internal Discussion
                                         @Html.ValidationMessageFor(h => h.IsViewInternalDiscussion)
                                            </label>
                                        </div>
                                        <div class="checkbox">
                                            <label>
                                                @Html.CheckBoxFor(m => m.IsCategory, new { @class = "" }) Category
                                         @Html.ValidationMessageFor(h => h.IsCategory)
                                            </label>
                                        </div>
                                        <div class="checkbox" style="display: none">
                                            <label>
                                                @Html.CheckBoxFor(m => m.IsAssignTo, new { @class = "" }) Assign To
                                          @Html.ValidationMessageFor(h => h.IsAssignTo)
                                            </label>
                                        </div>
                                       
                                        @* <div class="checkbox">
                                            <label>
                                                @Html.CheckBoxFor(m => m.IsReportVisible, new { @class = "" }) Report
                                          @Html.ValidationMessageFor(h => h.IsReportVisible)
                                            </label>
                                        </div>*@

                                        <div class="checkbox">
                                            <label>
                                                @Html.CheckBoxFor(m => m.IsExport, new { @class = "" }) Export
                                          @Html.ValidationMessageFor(h => h.IsExport)
                                            </label>
                                        </div>


                                    </div>
                                    
                                    
                                    <div class="col-xs-12 col-sm-3 col-md-3">
                                        <div class="checkbox">
                                            <label>
                                                @Html.CheckBoxFor(m => m.IsApproval, new { @class = "" }) Approval
                                        @Html.ValidationMessageFor(h => h.IsApproval)
                                            </label>
                                        </div>
                                        <div class="checkbox">
                                            <label>
                                                @Html.CheckBoxFor(m => m.IsPriority, new { @class = "" }) Priority
                                          @Html.ValidationMessageFor(h => h.IsPriority)
                                            </label>
                                        </div>
                                        <div class="checkbox">
                                            <label>
                                                @Html.CheckBoxFor(m => m.IsCreateUser, new { @class = "" }) User
                                          @Html.ValidationMessageFor(h => h.IsCreateUser)
                                            </label>
                                        </div>
                                        <div class="checkbox">
                                            <label>
                                                @Html.CheckBoxFor(m => m.IsTeam, new { @class = "" }) Team
                                         @Html.ValidationMessageFor(h => h.IsTeam)
                                            </label>
                                        </div>
                                        <div class="checkbox">
                                            <label>
                                                @Html.CheckBoxFor(m => m.IsSlaPolicy, new { @class = "" }) Sla Policy
                                         @Html.ValidationMessageFor(h => h.IsSlaPolicy)
                                            </label>
                                        </div>
                                    </div>
                                    
                                    <div class="col-xs-12 col-sm-3 col-md-3">
                                        <div class="checkbox">
                                            <label>
                                                @Html.CheckBoxFor(m => m.IsCreateCustomer, new { @class = "" }) Customer
                                          @Html.ValidationMessageFor(h => h.IsCreateCustomer)
                                            </label>
                                        </div>
                                        <div class="checkbox" style="display: none">
                                            <label>
                                                @Html.CheckBoxFor(m => m.IsViewGroupTicket, new { @class = "" }) All Ticket
                                          @Html.ValidationMessageFor(h => h.IsViewGroupTicket)
                                            </label>
                                        </div>
                                        <div class="checkbox">
                                            <label>
                                                @Html.CheckBoxFor(m => m.IsFieldAccess, new { @class = "" }) User Field Access
                                          @Html.ValidationMessageFor(h => h.IsFieldAccess)
                                            </label>
                                        </div>
                                        <div class="checkbox" style="display: none">
                                            <label>
                                                @Html.CheckBoxFor(m => m.IsShowLayOut, new { @class = "" })  LayOut Design
                                         @Html.ValidationMessageFor(h => h.IsShowLayOut)
                                            </label>
                                        </div>

                                        <div class="checkbox">
                                            <label>
                                                @Html.CheckBoxFor(m => m.IsBusinessCalendar, new { @class = "" })  Business Calendar
                                         @Html.ValidationMessageFor(h => h.IsBusinessCalendar)
                                            </label>
                                        </div>

                                         <div class="checkbox">
                                            <label>
                                                @Html.CheckBoxFor(m => m.IsAddRelease, new { @class = "" })  Add Release
                                         @Html.ValidationMessageFor(h => h.IsAddRelease)
                                            </label>
                                        </div>
                                         <div class="checkbox">
                                            <label>
                                                @Html.CheckBoxFor(m => m.IsAddNews, new { @class = "" })  Add News
                                         @Html.ValidationMessageFor(h => h.IsAddNews)
                                            </label>
                                        </div>

                                    </div>

                                </div>

                            </div>
                        </div>
                    </div>

                    <div class="row">
                    <div class="col-xs-12">
                             <div class="form-group">
                                <label>Reports :</label>

                    <ul id="draggablePanelList" class="list-unstyled clearfix">
                   
                
                         @foreach (var xVAL in ViewBag.ReportModel)
                         {
                             
                    <li class="panel col-xs-12 col-sm-3 col-md-3">
                    <div class="borderallside panel-body roundcorner">
                    
                   
                      @if (@xVAL.Show == "Y")
                      {
                          <span class="" >
                    <input type="checkbox" class="margintop8" name="chk_@xVAL.ID" checked="checked"  id ="chk_@xVAL.ID" value="@xVAL.ID"  onclick="javascript: clickreport(this);" /></span>
                    <span style="line-height:28px;">@xVAL.Name</span>
                      }
                      else
                      {
                          <span class="" >
                    <input type="checkbox" class="margintop8" name="chk_@xVAL.ID" id="chk_@xVAL.ID" value="@xVAL.ID"  onclick="javascript: clickreport(this);" /></span>
                    <span style="line-height:28px;">@xVAL.Name</span>
                      }


                    </div>
                    </li>
                         }
                         
                    </ul>
                    </div>
                    </div>
                    </div>
                    <input type="submit" class="btn btn-xs btn-primary" name="btnSubmit" value="Save" />
                    <a class="btn btn-xs btn-default" href="@Url.Action("RoleList", "Setup")">Cancel</a>
                }

            </div>
        </div>
    </div>
</div>
<script src="@Url.Content("~/Scripts/jquery.unobtrusive-ajax.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/jquery.validate.unobtrusive.js")" type="text/javascript"></script>

<script type="text/javascript">
    function clickreport(val) {
        
        if (val.checked == true) {
            document.getElementById("reportlist").value = document.getElementById("reportlist").value + val.value + ',';

        }
        else {
            var abc = document.getElementById("reportlist").value;
            document.getElementById("reportlist").value = abc.replace( val.value+",","");
        }
    }

</script>